# Phase 5: Retrospective

> Capture learnings to compound knowledge.

## Purpose

Retrospective completes the learning loop. Without capturing learnings, knowledge is lost and mistakes repeat.

---

## Workflow

```
1. REFLECT   → What happened vs expected?
2. EXTRACT   → What worked? What failed?
3. DOCUMENT  → Add to knowledge base
4. APPLY     → Update processes/templates
```

---

## What to Capture

| Category | Examples |
|----------|----------|
| **Patterns** | Approaches worth repeating |
| **Anti-patterns** | Approaches to avoid |
| **Decisions** | Key choices and rationale |
| **Gotchas** | Unexpected behaviors |

---

## Output Format

```markdown
# Retrospective: [Task]

## Date
[YYYY-MM-DD]

## Summary
[1-2 sentences]

## What Went Well
- [Thing 1]
- [Thing 2]

## What Was Difficult
| Challenge | Resolution |
|-----------|------------|
| ... | ... |

## Learnings

### Patterns
| Pattern | Context | Why It Works |
|---------|---------|--------------|
| ... | ... | ... |

### Anti-Patterns
| Anti-Pattern | Symptom | Better Approach |
|--------------|---------|-----------------|
| ... | ... | ... |

### Decisions
| Decision | Choice | Rationale |
|----------|--------|-----------|
| ... | ... | ... |

## Signal
> [One sentence: key insight]
```

---

## Signal Capture

The **signal** is the most valuable insight:

```
❌ Bad:  status = "Done"
✅ Good: status = "Done", signal = "RLS requires SECURITY DEFINER for cross-user access"
```

One sentence that captures the key learning.

---

## Quick Retrospective

For smaller tasks:

```markdown
# Quick Retro: [Task]

**Worked:** [What went well]
**Didn't:** [What was hard]
**Learned:** [Key insight]
**Next time:** [What to do differently]
```

---

## Knowledge Integration

After retrospective, update:

### Patterns File
```markdown
## [Pattern Name]
**Context:** [When to use]
**Approach:** [What to do]
**Source:** [Project/Date]
```

### Anti-Patterns File
```markdown
## [Anti-Pattern Name]
**Symptom:** [How to recognize]
**Better:** [What to do instead]
**Source:** [Project/Date]
```

### Decision Log
```markdown
## [Decision]
**Date:** [YYYY-MM-DD]
**Context:** [Why needed]
**Decision:** [What chosen]
**Rationale:** [Why]
```

---

## Time Investment

| Complexity | Retro Time |
|------------|------------|
| Quick fix | 2-5 min |
| Standard | 10-15 min |
| Multi-phase | 20-30 min |
| Major | 30-60 min |

Retrospective = ~5-10% of total task time.

---

## The Compound Effect

Each retrospective adds to knowledge. Over time:
- Fewer repeated mistakes
- Faster decision making
- Better AI prompts
- More predictable outcomes

---

## Monthly Review

Review knowledge base monthly:

1. What patterns are most useful?
2. What anti-patterns keep appearing?
3. Are templates up to date?
4. Is process improving?

---

## Anti-Patterns

| Anti-Pattern | Result | Fix |
|--------------|--------|-----|
| Skip retro | Same mistakes | Budget 5-10 min |
| Only negative | Miss wins | Balance both |
| Too long | Overhead | Time-box |
| Never reviewed | Not applied | Check before tasks |

---

## Complete

Task complete. Knowledge captured. Ready for next task.

---

*Knowledge not written down will be lost.*
